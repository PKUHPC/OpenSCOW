---
sidebar_position: 7
title: 账户账单功能配置
---

# 账户账单功能配置

- 允许在`config/mis.yaml`文件中配置并启用账户账单功能，系统将会根据配置的`monthlyCron`定时生成月账单，根据`yearlyCron`定时生成年账单。每个账户的月/年账单在每月/年只会生成一次，每次执行生成账单任务的时候，已经生成该周期账单的账户不会再次生成账单。

- 在本功能中，term是指一个周期，比如某一个月，或者某一年。

- customTerms 为自定义生成账期的周期。如果需要生成某年的账单，在数组中增加一个格式为 `YYYY` 的字符串，如想生成2022年的账单，在数组中增加"2022"即可；如果想生成某月的账单，在数组中增加一个格式为 `YYYYMM` 的字符串，如想生成2022年12月的账单，就增加"202212"。

```yaml title="config/mis.yaml"
bill:
# 是否使用账单功能
  enabled: true
# 生成月账单的定时任务
  monthlyCron: "0 1 1~2 * *"
# 生成年账单的定时任务
  yearlyCron: "0 1 1~2 1 *"
# 自定义生成之前账期的账单，例如下面的配置，将会在系统启动时，生成"2023","202407","202408"三个周期的账单
  customTerms: ["2023","202407","202408"]
# # 预定义的未标明类型的消费在账单中展示的名称，这是由于scow允许调用扣费接口时，不输入扣费类型，所以可能会有以下不带类型的扣费记录
#   otherChargeTypeText: "其它"
```

## 账单维度
账单根据账户每种类型、账户内的用户两个维度分别进行统计。

