<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-hpccluster/slurm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">slurm集群部署 | OpenSCOW</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://PKUHPC.github.io/OpenSCOW/pr-preview/pr-1478/docs/slurm"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="slurm集群部署 | OpenSCOW"><meta data-rh="true" name="description" content="1. 安装Munge"><meta data-rh="true" property="og:description" content="1. 安装Munge"><link data-rh="true" rel="icon" href="/OpenSCOW/pr-preview/pr-1478/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://PKUHPC.github.io/OpenSCOW/pr-preview/pr-1478/docs/slurm"><link data-rh="true" rel="alternate" href="https://PKUHPC.github.io/OpenSCOW/pr-preview/pr-1478/docs/slurm" hreflang="zh"><link data-rh="true" rel="alternate" href="https://PKUHPC.github.io/OpenSCOW/pr-preview/pr-1478/docs/slurm" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/OpenSCOW/pr-preview/pr-1478/blog/rss.xml" title="OpenSCOW RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/OpenSCOW/pr-preview/pr-1478/blog/atom.xml" title="OpenSCOW Atom Feed"><link rel="stylesheet" href="/OpenSCOW/pr-preview/pr-1478/assets/css/styles.24a9d8e9.css">
<script src="/OpenSCOW/pr-preview/pr-1478/assets/js/runtime~main.d038798a.js" defer="defer"></script>
<script src="/OpenSCOW/pr-preview/pr-1478/assets/js/main.cdd8215f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_OASo" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/OpenSCOW/pr-preview/pr-1478/"><div class="navbar__logo"><img src="/OpenSCOW/pr-preview/pr-1478/img/logo.svg" alt="OpenSCOW Logo" class="themedComponent_Fnqf themedComponent--light_OgmV"><img src="/OpenSCOW/pr-preview/pr-1478/img/logo_dark.svg" alt="OpenSCOW Logo" class="themedComponent_Fnqf themedComponent--dark_b7Vr"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" sidebarid="info" href="/OpenSCOW/pr-preview/pr-1478/docs/info">功能介绍</a><a class="navbar__item navbar__link" sidebarid="deploy" href="/OpenSCOW/pr-preview/pr-1478/docs/deploy">部署和配置</a><a class="navbar__item navbar__link" sidebarid="deploy" href="/OpenSCOW/pr-preview/pr-1478/docs/integration">与OpenSCOW集成</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" sidebarid="hpccluster" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster">slurm集群部署实践</a><a class="navbar__item navbar__link" sidebarid="contribution" href="/OpenSCOW/pr-preview/pr-1478/docs/contribution">贡献指南</a><a class="navbar__item navbar__link" sidebarid="refs" href="/OpenSCOW/pr-preview/pr-1478/docs/refs">配置参考</a><a class="navbar__item navbar__link" href="/OpenSCOW/pr-preview/pr-1478/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/PKUHPC/OpenSCOW" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rhic"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_MrA8 colorModeToggle_saPH"><button class="clean-btn toggleButton_Wl77 toggleButtonDisabled_oiRC" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_OLdq"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_VEak"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_PWF9"><div class="navbar__search searchBarContainer_l_Hv" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_G4st searchBarLoadingRing_Q9xU"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_Naj2"><div class="docsWrapper_TWxf"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_leNm" type="button"></button><div class="docRoot_suVu"><aside class="theme-doc-sidebar-container docSidebarContainer_bvCN"><div class="sidebarViewport_qSH9"><div class="sidebar_z10j"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_nkqF"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster">slurm部署简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/plan">集群规划</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/basic-config">基础配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/nfs">NFS安装和配置</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/config/slurm.conf">配置文件</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm">slurm集群部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/mount-disk">数据盘挂载</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/add-user">LDAP新建用户</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/module">module安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/intel">intel编译器安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/cluster-monitor">部署集群监控</a></li></ul></nav></div></div></aside><main class="docMainContainer_OSuM"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_SDRy"><div class="docItemContainer_gF7B"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_QexB" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/OpenSCOW/pr-preview/pr-1478/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_uMIj"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">slurm集群部署</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_GfJc theme-doc-toc-mobile tocMobile_X3gL"><button type="button" class="clean-btn tocCollapsibleButton_BQFX">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>slurm集群部署</h1></header><h2 class="anchor anchorWithStickyNavbar_r5bt" id="1-安装munge">1. 安装Munge<a class="hash-link" aria-label="1. 安装Munge的直接链接" title="1. 安装Munge的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#1-安装munge">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="11-创建munge用户">1.1 创建Munge用户<a class="hash-link" aria-label="1.1 创建Munge用户的直接链接" title="1.1 创建Munge用户的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#11-创建munge用户">​</a></h3>
<p>Munge用户要确保管理节点和计算(登录)节点的UID和GID相同，所有节点都需要安装Munge。</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">groupadd -g 1108 munge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">useradd -m -c &quot;Munge Uid &#x27;N&#x27; Gid Emporium&quot; -d /var/lib/munge -u 1108 -g munge -s /sbin/nologin munge</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="12-生成熵池"><strong>1.2 生成熵池</strong><a class="hash-link" aria-label="12-生成熵池的直接链接" title="12-生成熵池的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#12-生成熵池">​</a></h3>
<p>在管理节点上执行</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">yum install -y rng-tools</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>使用/dev/urandom来做熵源</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">rngd -r /dev/urandom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修改service参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim /usr/lib/systemd/system/rngd.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修改如下：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[service]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ExecStart=/sbin/rngd -f -r /dev/urandom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#退出报存</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>启动rngd</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start rngd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable rngd</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>查看服务状态<code>systemctl status rngd</code></p>
<p><img decoding="async" loading="lazy" alt="img" src="/OpenSCOW/pr-preview/pr-1478/assets/images/rngd-da4b6a610e210dfbea1357d984dc2d7f.PNG" width="1280" height="249" class="img__jGL"></p>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="13-部署munge"><strong>1.3 部署Munge</strong><a class="hash-link" aria-label="13-部署munge的直接链接" title="13-部署munge的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#13-部署munge">​</a></h3>
<p>Munge是认证服务，实现本地或者远程主机进程的UID、GID验证。</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">yum install epel-release -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum install munge munge-libs munge-devel -y</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>创建全局密钥，在管理节点创建全局使用的密钥</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/sbin/create-munge-key -r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dd if=/dev/urandom bs=1 count=1024 &gt; /etc/munge/munge.key</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>密钥同步到所有其他节点：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">scp -p /etc/munge/munge.key root@login01:/etc/munge/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -p /etc/munge/munge.key root@compute01:/etc/munge/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -p /etc/munge/munge.key root@compute02:/etc/munge/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 所有节点赋权</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown munge: /etc/munge/munge.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 400 /etc/munge/munge.key</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>所有节点都执行启动命令：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start munge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable munge</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>查看状态<code>systemctl status munge</code></p>
<p><img decoding="async" loading="lazy" alt="img" src="/OpenSCOW/pr-preview/pr-1478/assets/images/munge-ac339cde1c99cfe1080e69b85cd2988f.PNG" width="1019" height="257" class="img__jGL"></p>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="14-测试munge服务"><strong>1.4 测试Munge服务</strong><a class="hash-link" aria-label="14-测试munge服务的直接链接" title="14-测试munge服务的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#14-测试munge服务">​</a></h3>
<p>每个节点与控制节点进行连接验证</p>
<p>本地查看  凭据：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">munge -n</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="1193" height="47" class="img__jGL"></p>
<p>本地解码：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">munge -n | unmunge</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="img" src="/OpenSCOW/pr-preview/pr-1478/assets/images/m-nu-634318b6ee9e7ef6056a7644d369c3b0.png" width="745" height="237" class="img__jGL"></p>
<p>验证远程解码：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">munge -n | ssh compute01 unmunge</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="img" src="/OpenSCOW/pr-preview/pr-1478/assets/images/m-uns-db0fd6b814df46bbefb943eb4b2f8d05.PNG" width="1169" height="240" class="img__jGL"></p>
<p>munge凭证基准测试</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">remunge</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="1130" height="83" class="img__jGL"></p>
<h2 class="anchor anchorWithStickyNavbar_r5bt" id="2-安装slurm"><strong>2. 安装slurm</strong><a class="hash-link" aria-label="2-安装slurm的直接链接" title="2-安装slurm的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#2-安装slurm">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="21-安装mariadb">2.1 安装mariadb<a class="hash-link" aria-label="2.1 安装mariadb的直接链接" title="2.1 安装mariadb的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#21-安装mariadb">​</a></h3>
<p>安装mariadb，作为Slurm Accounting配置，在管理节点执行：</p>
<div class="language-PowerShell language-powershell codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-powershell codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">yum -y install mariadb-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start mariadb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable mariadb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ROOT_PASS=$(tr -dc A-Za-z0-9 &lt;/dev/urandom | head -c 16) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql -e &quot;CREATE USER root IDENTIFIED BY &#x27;${ROOT_PASS}&#x27;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql -uroot -p$ROOT_PASS -e &#x27;create database slurm_acct_db&#x27;</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>创建<code>slurm</code>用户，并为其赋予<code>slurm_acct_db</code>数据库的所有权限</p>
<div class="language-SQL language-sql codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-sql codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">uroot </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">p$ROOT_PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> slurm</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">all</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> slurm_acct_db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;slurm&#x27;</span><span class="token variable" style="color:#36acaa">@&#x27;localhost&#x27;</span><span class="token plain"> identified </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;123456&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">option</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="22-创建slurm用户">2.2 创建slurm用户<a class="hash-link" aria-label="2.2 创建slurm用户的直接链接" title="2.2 创建slurm用户的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#22-创建slurm用户">​</a></h3>
<p>在所有节点执行：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">groupadd -g 1109 slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">useradd -m -c &quot;Slurm manager&quot; -d /var/lib/slurm -u 1109 -g slurm -s /bin/bash slurm</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="23-安装slurm依赖">2.3 安装slurm依赖<a class="hash-link" aria-label="2.3 安装slurm依赖的直接链接" title="2.3 安装slurm依赖的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#23-安装slurm依赖">​</a></h3>
<p>在所有节点执行：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">yum install gcc gcc-c++ readline-devel perl-ExtUtils-MakeMaker pam-devel rpm-build mysql-devel python3 -y</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="24-制作rpm包">2.4 制作rpm包<a class="hash-link" aria-label="2.4 制作rpm包的直接链接" title="2.4 制作rpm包的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#24-制作rpm包">​</a></h3>
<blockquote>
<p>以下操作在管理节点执行</p>
</blockquote>
<p>下载slurm</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">wget https://download.schedmd.com/slurm/slurm-22.05.3.tar.bz2</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>安装rpmbuild，编译slurm，rpmbuild制作rpm包</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">yum install rpm-build -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rpmbuild -ta --nodeps slurm-22.05.3.tar.bz2</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>编译制作完成后，可在目录<code>/root/rpmbuild/RPMS/x86_64</code>下得到如下rpm包</p>
<p><img decoding="async" loading="lazy" alt="img" src="/OpenSCOW/pr-preview/pr-1478/assets/images/rmp-8b2c521f1beb07f2d4fa07005555da24.png" width="1057" height="272" class="img__jGL"></p>
<p>将编译好的rpm包拷贝到其他节点</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p /root/rpmbuild/RPMS/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -r /root/rpmbuild/RPMS/x86_64 root@login01:/root/rpmbuild/RPMS/x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -r /root/rpmbuild/RPMS/x86_64 root@compute01:/root/rpmbuild/RPMS/x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -r /root/rpmbuild/RPMS/x86_64 root@compute02:/root/rpmbuild/RPMS/x86_64</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_r5bt" id="25-安装与配置">2.5 安装与配置<a class="hash-link" aria-label="2.5 安装与配置的直接链接" title="2.5 安装与配置的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#25-安装与配置">​</a></h3>
<p>所有节点安装slurm</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain"> cd /root/rpmbuild/RPMS/x86_64/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> yum localinstall slurm-*</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>配置控制节点slurm</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">cp /etc/slurm/cgroup.conf.example /etc/slurm/cgroup.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp /etc/slurm/slurm.conf.example /etc/slurm/slurm.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp /etc/slurm/slurmdbd.conf.example /etc/slurm/slurmdbd.conf</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><code>cgroup.conf </code>使用了默认配置；</p>
</li>
<li>
<p>slurm.conf 配置参见<a href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/config/slurm.conf">附录1：slurm.conf 配置</a> ；</p>
</li>
<li>
<p>slurmdbd.conf 配置参见<a href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/config/slurmdbd.conf">附录2：slurmdbd.conf 配置</a> 。</p>
</li>
</ul>
<p>复制配置文件到其他节点</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain"># slurmdbd.conf可不用复制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -r /etc/slurm/*.conf  root@login01:/etc/slurm/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -r /etc/slurm/*.conf  root@compute01:/etc/slurm/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -r /etc/slurm/*.conf  root@compute02:/etc/slurm/</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>设置各节点文件权限</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir /var/spool/slurmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown slurm: /var/spool/slurmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir /var/log/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown slurm: /var/log/slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir /var/spool/slurmctld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown slurm: /var/spool/slurmctld</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>启动服务：</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain"># 服务节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start slurmdbd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable slurmdbd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start slurmctld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable slurmctld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 所有节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start slurmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl enable slurmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过 systemctl status ××× 查看服务状态，并确保个服务状态正常</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可能的报错：</p>
<div class="language-PowerShell language-powershell codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-powershell codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. 启动slurmdbd时报错(一)：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slurmdbd: fatal: slurmdbd.conf file /etc/slurm/slurmdbd.conf should be 600 is 644 acc... others</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#  解决方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 600 slurmdbd.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart slurmdbd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. 启动slurmdbd时报错(二)：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">slurmdbd: fatal: slurmdbd.conf not owned by SlurmUser root!=slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#  解决方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown slurm: /etc/slurm/slurmdbd.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart slurmdbd</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>查看配置</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">scontrol show config</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>检查slurm集群</p>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain">sinfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scontrol show partition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scontrol show node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 提交作业</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">srun -N2 hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scontrol show jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看作业</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">squeue -a</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_UIbT alert alert--success"><div class="admonitionHeading_zRnv"><span class="admonitionIcon_scb5"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_i73X"><p>slurm默认的qos只有一个qos: normal，在对接OpenSCOW时，需要low、normal、high三个qos，手动创建low、high两个</p></div></div>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看已有的qos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sacctmgr show qos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 创建low、high两个qos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sacctmgr create qos name=low</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sacctmgr create qos name=high</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 给用户添加qos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sacctmgr modify user name={username} set qos=low,high,normal  defaultQOS=low</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_r5bt" id="3-初始化账户和用户可选">3. 初始化账户和用户(可选)<a class="hash-link" aria-label="3. 初始化账户和用户(可选)的直接链接" title="3. 初始化账户和用户(可选)的直接链接" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#3-初始化账户和用户可选">​</a></h2>
<div class="language-Bash language-bash codeBlockContainer_fYph theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Ye81"><pre tabindex="0" class="prism-code language-bash codeBlock_bt8C thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_jNLP"><span class="token-line" style="color:#393A34"><span class="token plain"># 初始化账户.例如账户为a_admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sacctmgr add account name=a_admin </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 初始化用户.例如用户demo_admin，指定账户为a_admin，分区为compute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sacctmgr add user name=demo_admin account=a_admin partition=compute qos=low,high,normal defaultQOS=low</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看用户信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sacctmgr show ass format=&quot;Cluster,Account,User,Partition,QOS&quot;</span><br></span></code></pre><div class="buttonGroup_Zly_"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_dkd3" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_juYS"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VwDq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/PKUHPC/OpenSCOW/edit/main/website/docs/hpccluster/slurm.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_fMmp" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_kkul"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/config/slurmdbd.conf"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">slurmdbd.conf 配置</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OpenSCOW/pr-preview/pr-1478/docs/hpccluster/mount-disk"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">数据盘挂载</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_F6ta thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#1-安装munge">1. 安装Munge</a><ul><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#11-创建munge用户">1.1 创建Munge用户</a></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#12-生成熵池"><strong>1.2 生成熵池</strong></a></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#13-部署munge"><strong>1.3 部署Munge</strong></a></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#14-测试munge服务"><strong>1.4 测试Munge服务</strong></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#2-安装slurm"><strong>2. 安装slurm</strong></a><ul><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#21-安装mariadb">2.1 安装mariadb</a></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#22-创建slurm用户">2.2 创建slurm用户</a></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#23-安装slurm依赖">2.3 安装slurm依赖</a></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#24-制作rpm包">2.4 制作rpm包</a></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#25-安装与配置">2.5 安装与配置</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/OpenSCOW/pr-preview/pr-1478/docs/slurm#3-初始化账户和用户可选">3. 初始化账户和用户(可选)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OpenSCOW/pr-preview/pr-1478/docs/info">Intro</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OpenSCOW/pr-preview/pr-1478/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/PKUHPC/OpenSCOW" target="_blank" rel="noopener noreferrer" class="footer__link-item">Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rhic"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 北京大学计算与数字经济研究院. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>