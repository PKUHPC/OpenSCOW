# v1.8.2

发布于：2025/3/21 09:47:30



# 配置文件

配置文件版本：1.7.0

### 重要更新
- 修改 reservedAppAttribute 配置项，支持 type 为 fixedValue 与 select 的两种配置类型。 ([3669a48d](https://github.com/PKUHPC/SCOW/commit/3669a48d696239a3200cc100946ec6190e2b0f8b))

### 小型更新
- 预生产环境自动更新 scow ([80bee993](https://github.com/PKUHPC/SCOW/commit/80bee99320c6c1609573749cf118bf6cb3e37bc2))


# SCOW API和Hook

SCOW API版本：1.20.0

### 重要更新
- 在 app.proto 中增加交互式应用系统保留配置项相关的 proto
在 file.proto 中新增解压缩文件的接口 ([de86c6e3](https://github.com/PKUHPC/SCOW/commit/de86c6e33430448728f818f05c822458e4c0dd4d))
- 修改 app.proto 中 getAppMetadataResoonse 的 ReservedAppAttribute, 支持 fixedValue 与 select 两种配置型 ([3669a48d](https://github.com/PKUHPC/SCOW/commit/3669a48d696239a3200cc100946ec6190e2b0f8b))


# SCOW

## 门户系统前端 (portal-web) 

### 小型更新
- 新增 HPC 交互式应用中对保留配置项的自定义配置功能，同时新增 HTML 表单的文件路径配置功能
在 HPC 中新增加强版文件选择组件，包括文件解压缩功能
修复 AI 中文件解压缩的错误提示及路径刷新等问题 ([de86c6e3](https://github.com/PKUHPC/SCOW/commit/de86c6e33430448728f818f05c822458e4c0dd4d))
- HPC 提交作业选择工作目录默认修改为家目录 ([2408c299](https://github.com/PKUHPC/SCOW/commit/2408c2993b1f418cf834fa667311ff8298d2e2c6))
- 文件管理 ui 及交互调整 ([eeb58f71](https://github.com/PKUHPC/SCOW/commit/eeb58f7186db5eddbb633b084e31fa5dab74c71e))
- 桌面布局优化 ([538831dd](https://github.com/PKUHPC/SCOW/commit/538831dd2483b62eb8019fffca18793a383f3de9))
- 在交互式应用系统保留配置中扩展增加下拉框选项配置 ([3669a48d](https://github.com/PKUHPC/SCOW/commit/3669a48d696239a3200cc100946ec6190e2b0f8b))
- 修复门户系统点击工作目录跳转时会返回家目录的问题
删除 HPC 和 AI 文件管理部分的前进回退按钮 ([d2bbecd1](https://github.com/PKUHPC/SCOW/commit/d2bbecd19f3a2d9849e58e3a8e032a95d44f140e))
- 排查去除搜索输入框前后空格 ([85bb5360](https://github.com/PKUHPC/SCOW/commit/85bb5360a270307b3cd2b84b2d6bc9fa90e33fc3))
- 将交互式应用 HTML 表单文件配置类型的选择添加文件按钮提前 ([c485289f](https://github.com/PKUHPC/SCOW/commit/c485289f2353bf71a7e6b997fa1461323bf2af18))
- 提交任务时长限制增加小时天单位 ([fa511591](https://github.com/PKUHPC/SCOW/commit/fa51159137910b658537a33782ae5a902a8f3702))

## 门户系统后端 (portal-server) 

### 小型更新
- 新增 HPC 交互式应用中对保留配置项的自定义配置功能，同时新增 HTML 表单的文件路径配置功能
在 HPC 中新增加强版文件选择组件，包括文件解压缩功能
修复 AI 中文件解压缩的错误提示及路径刷新等问题 ([de86c6e3](https://github.com/PKUHPC/SCOW/commit/de86c6e33430448728f818f05c822458e4c0dd4d))
- 在交互式应用系统保留配置中扩展增加下拉框选项配置 ([3669a48d](https://github.com/PKUHPC/SCOW/commit/3669a48d696239a3200cc100946ec6190e2b0f8b))
- scowd 替换除跨集群文件传输外的 ssh 所有相关逻辑 ([6be75828](https://github.com/PKUHPC/SCOW/commit/6be758281da4825e043c89b11ed7917548d37e3d))

## 管理系统前端 (mis-web) 

### 小型更新
- 新增 HPC 交互式应用中对保留配置项的自定义配置功能，同时新增 HTML 表单的文件路径配置功能
在 HPC 中新增加强版文件选择组件，包括文件解压缩功能
修复 AI 中文件解压缩的错误提示及路径刷新等问题 ([de86c6e3](https://github.com/PKUHPC/SCOW/commit/de86c6e33430448728f818f05c822458e4c0dd4d))
- 租户充值前端增加校验 ([e4480eca](https://github.com/PKUHPC/SCOW/commit/e4480eca01f2c3c7536713c256ac0bc235e15f0b))
- 集群监控仪表图高度及样式调整 ([3d0b7f0a](https://github.com/PKUHPC/SCOW/commit/3d0b7f0a7966d55443d13354e1b53443ce7c0196))
- 新建租户和修改租户时限制已存在用户不能为租户管理员或财务人员 ([2eca5d80](https://github.com/PKUHPC/SCOW/commit/2eca5d801bbbb777831d02f29ae2adb7cd681037))
- 修复部分基于 Promise.allSettled 的报错处理或日志不全等问题 ([28acbf57](https://github.com/PKUHPC/SCOW/commit/28acbf57ab86b565cd4e18e8ca2f41bbe3aee817))
- jobid 非唯一值导致计费调整 bug 修复 ([40b9478a](https://github.com/PKUHPC/SCOW/commit/40b9478afaf5a025522c808e4dff539636e016cf))
- 排查去除搜索输入框前后空格 ([85bb5360](https://github.com/PKUHPC/SCOW/commit/85bb5360a270307b3cd2b84b2d6bc9fa90e33fc3))
- 用户列表关联账户字段导出异常修复 ([67c32a5e](https://github.com/PKUHPC/SCOW/commit/67c32a5eef488670622f29190267584679a27291))

## 管理系统后端 (mis-server) 

### 小型更新
- 将fetchjob定时任务抛错处理 ([e233b4e0](https://github.com/PKUHPC/SCOW/commit/e233b4e0cd60d07ef0221ea60b898886d74e011b))
- 新建租户和修改租户时限制已存在用户不能为租户管理员或财务人员 ([2eca5d80](https://github.com/PKUHPC/SCOW/commit/2eca5d801bbbb777831d02f29ae2adb7cd681037))
- 修复部分基于 Promise.allSettled 的报错处理或日志不全等问题 ([28acbf57](https://github.com/PKUHPC/SCOW/commit/28acbf57ab86b565cd4e18e8ca2f41bbe3aee817))
- jobid 非唯一值导致计费调整 bug 修复 ([40b9478a](https://github.com/PKUHPC/SCOW/commit/40b9478afaf5a025522c808e4dff539636e016cf))
- scowd 替换除跨集群文件传输外的 ssh 所有相关逻辑 ([6be75828](https://github.com/PKUHPC/SCOW/commit/6be758281da4825e043c89b11ed7917548d37e3d))
- 用户列表关联账户字段导出异常修复 ([67c32a5e](https://github.com/PKUHPC/SCOW/commit/67c32a5eef488670622f29190267584679a27291))

## CLI (cli) 

### 小型更新
- @octokit/rest 回退 20 版本 ([cc0c01e6](https://github.com/PKUHPC/SCOW/commit/cc0c01e696d4c32642c395efca4d3ce89d1229a5))
- 修改 mis.yaml 文件里关于用户名的默认配置，不允许出现下划线\_ ([71cb79b7](https://github.com/PKUHPC/SCOW/commit/71cb79b7ca798ec2fffc1c3dd398f834a4001d3f))
- scowd 替换除跨集群文件传输外的 ssh 所有相关逻辑 ([6be75828](https://github.com/PKUHPC/SCOW/commit/6be758281da4825e043c89b11ed7917548d37e3d))

## AI系统 (ai) 

### 小型更新
- 修复“同时添加多个挂载点，即使填上了挂载点的值后依然报字段验证错误”的问题 ([11f6329a](https://github.com/PKUHPC/SCOW/commit/11f6329af8c22b392b33b63f6a5cee7f0f7d6ebd))
- ai 支持添加多个算法数据集模型 ([b8df1cb0](https://github.com/PKUHPC/SCOW/commit/b8df1cb0a4bfcaf245f9f68d2ff12b5b62a31e22))
- 新增 HPC 交互式应用中对保留配置项的自定义配置功能，同时新增 HTML 表单的文件路径配置功能
在 HPC 中新增加强版文件选择组件，包括文件解压缩功能
修复 AI 中文件解压缩的错误提示及路径刷新等问题 ([de86c6e3](https://github.com/PKUHPC/SCOW/commit/de86c6e33430448728f818f05c822458e4c0dd4d))
- 修复门户系统点击工作目录跳转时会返回家目录的问题
删除 HPC 和 AI 文件管理部分的前进回退按钮 ([d2bbecd1](https://github.com/PKUHPC/SCOW/commit/d2bbecd19f3a2d9849e58e3a8e032a95d44f140e))
- select选项选择的customField的值不会被escape ([b035b473](https://github.com/PKUHPC/SCOW/commit/b035b47356989ca5b18901cad2e419a8915c61ef))
- 提交任务时长限制增加小时天单位 ([fa511591](https://github.com/PKUHPC/SCOW/commit/fa51159137910b658537a33782ae5a902a8f3702))

## 资源管理系统 (resource) 

### 小型更新
- 新增 HPC 交互式应用中对保留配置项的自定义配置功能，同时新增 HTML 表单的文件路径配置功能
在 HPC 中新增加强版文件选择组件，包括文件解压缩功能
修复 AI 中文件解压缩的错误提示及路径刷新等问题 ([de86c6e3](https://github.com/PKUHPC/SCOW/commit/de86c6e33430448728f818f05c822458e4c0dd4d))
- 修复部分基于 Promise.allSettled 的报错处理或日志不全等问题 ([28acbf57](https://github.com/PKUHPC/SCOW/commit/28acbf57ab86b565cd4e18e8ca2f41bbe3aee817))

## 消息系统 (notification) 

### 小型更新
- 优化消息系统定时删除过期消息的逻辑 ([dc2a243a](https://github.com/PKUHPC/SCOW/commit/dc2a243a367b0ed5c6843fc734067bbeaed79caf))


